[{"id":"1b7bc458.b2639c","type":"tab","label":"Flow 2","disabled":false,"info":""},{"id":"b8067f8f.addd2","type":"http response","z":"1b7bc458.b2639c","name":"Success","statusCode":"200","headers":{},"x":440,"y":460,"wires":[]},{"id":"4bb4c41d.97cdec","type":"http in","z":"1b7bc458.b2639c","name":"","url":"/webhook-endpoint","method":"post","upload":false,"swaggerDoc":"","x":230,"y":340,"wires":[["dbeebc50.dd0d5","b8067f8f.addd2"]]},{"id":"dbeebc50.dd0d5","type":"Analyze Notification","z":"1b7bc458.b2639c","creds":"","name":"","webhook":"https://yourdomain.com/webhook-endpoint","destinationAddress":"","storage":"","x":540,"y":340,"wires":[["64c32b3d.cd0b24"]],"info":"## Configuration\nAnalyze Notification node\n * **CPaaS Credentials** - client id and client secret of your project\n * **Destination address** - the phone number that you want to subscribe to.\n * **Webhook URL** is where the notification would de delivered. Check **how to set Webhook URL** in the section below for more information.\n * **Storage** for the sake of this example the value can be left blank, but for production it is recommended to have a value. To know more about this, check the **Node Help** section.\n\n## How to set Webhook URL\nTo received notification, the Analyze Notification would need a url which is accessible from the public web.\nThe http node exposes a POST endpoint **/webhook-endpoint** so the webhookURL would be http://localhost:1880/webhook-endpoint.\nThe webhook url(http://localhost:1880/webhook-endpoint) can only be accessed by another local server. To make this public\nyou can use [ngrok](http://localhost:1880/webhook-endpoint) which is a tunneling application.\nThe ngrok can be started by running this command\n\n```\nngrok http 1880\n```\n\nOnce this is run you would see something like this\n\n```\nngrok by @inconshreveable                                                                  (Ctrl+C to quit)\n\nSession Status                online\nSession Expires               7 hours, 58 minutes\nUpdate                        update available (version 2.3.34, Ctrl-U to update)\nVersion                       2.3.28\nRegion                        United States (us)\nWeb Interface                 http://127.0.0.1:4040\nForwarding                    http://29de1e3e.ngrok.io -> http://localhost:1880\nForwarding                    https://29de1e3e.ngrok.io -> http://localhost:1880\n\nConnections                   ttl     opn     rt1     rt5     p50     p90\n                              0       0       0.00    0.00    0.00    0.00\n```\n\nYou need to use the https domain i.e `https://29de1e3e.ngrok.io`\nThe webhookURL value becomes `https://29de1e3e.ngrok.io/webhook-endpoint`.\n\nSet this value to the webhookURL field, save and deploy the flow.\n\n## Receiving notification\nIf you followed the steps correctly then you should now start receiving notification.\nTo test, you can send an sms to the given phone number or try sending an sms from that number.\nCheck the **SMS flow** example for sending sms.\n\nFor more information, check **Node Help**\n\n\n"},{"id":"64c32b3d.cd0b24","type":"debug","z":"1b7bc458.b2639c","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":820,"y":340,"wires":[]}]